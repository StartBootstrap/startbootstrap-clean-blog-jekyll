I"‘	<h1 style="text-align: center;">Ø¨Ø³Ù… Ø§Ù„Ù„Ù‡ Ø§Ù„Ø±Ø­Ù…Ù† Ø§Ù„Ø±Ø­ÙŠÙ…</h1>

<p><img title="Arsitektur Kafka Aplikasi Pembayaran" alt="" src="/img/posts/Juni/11_1/gambar1.png" /></p>

<p>Pada postingan ini akan membahas, membuat arsitektur kafka. Pada kesempatan ini saya akan membuat arsitektur kafka sederhana dimana terdiri dari 3 buah broker, zookeeper dan akan dilakukan streaming pada sebuah file yang berisi JSON dan melakukan streaming data kedalam masih masih topic yang disesuakan dengan jenis pesan, hasil Pesan akan diterima oleh consumer menggunakan freamwork SpringBoot. Selanjutany juga akan menerima pesan URI dengan http method POST.</p>

<h2 id="1-pembuatan-arsitektur-kafka">1. Pembuatan Arsitektur Kafka</h2>
<ol>
  <li><strong>Broker &amp; Zookeeper</strong>
pada Kafka Cluster akan digunakan Dengan VM yang disediakan akan dilakukan instalasi kafka 3 node dan 3 server Zookeeper dengan sistem operasi CentOS 7 dengan masing IP 172.18.46.120 (Broker 1 &amp; zookeeper 1), 172.18.46.121 (Broker 2 &amp; zookeeper 2),  dan 172.18.46.122 (Broker 3 &amp; zookeeper 3)</li>
  <li><strong>FileStream.txt</strong> 
FileStream berupa file txt yang  setiap barisnya akan mengikrimkan (produce) pesan dari topic masing masing sesuai dengan type dari pesan secara langsung.</li>
  <li><strong>APP</strong> 
Batasan Dari APP hanya berupa consumer dengan SpringBoot untuk mengconsume pesan dari topic.</li>
</ol>

<h2 id="1-topic---topic">1. Topic - Topic</h2>

<p><img title="Producer Java FileStreams" alt="" src="/img/posts/Juni/11_1/gambar2.png" />
Setiap baris pesan JSON yang terdapat pada file streaming masing masing akan di kririmkan sesuai dengan Type. Dimana terdapat 3 tpye :</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>â€¢ Type â€œdbâ€ akan mengirimkan pesan pada topic 1 dengan nama topic â€œdaftar_bankâ€
  data sample : 
  {"Type":"db", "nama_bank":"BCA", "kota":"Jakarta", "tabungan":1000,"nama":"fawzi"}

â€¢ Type â€œkâ€ akan mengirimkan pesan pada topic 2 dengan nama topic â€œkreditâ€
  data sample:
  {"Type":"k", "nama_bank":"BCA", "jumlah":20000, "nama":"Ibal"}

â€¢ Type â€œdâ€ akan mengirimkan pesan pada topic 3 dengan nama topic â€œdebitâ€
  data sample:
  {"Type":"k", "nama_bank":"BCA", "jumlah":20000, "nama":"Ibal"}
</code></pre></div></div>

<p><img title="Producer Java FileStreams" alt="" src="/img/posts/Juni/11_1/gambar3.png" /></p>
:ET